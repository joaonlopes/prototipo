<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <title>Inicio</title>
  <!-- MDB icon -->
  <link rel="icon" href="img/mdb-favicon.ico" type="image/x-icon" />
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
  <!-- Google Fonts Roboto -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <!-- Material Design Bootstrap -->
  <link rel="stylesheet" href="css/mdb.min.css">
  <!-- Your custom styles (optional) -->
  <link rel="stylesheet" href="css/style.css">

  <script src="js/jquery.js"></script>
  <script src="js/mdb.js"></script>
  <script src="js/bootstrap.js"></script>

</head>

<body>
  <!--Navbar-->
  <nav class="navbar sticky-top  navbar-expand-lg navbar-dark bg-dark">
    <!-- Collapse button -->
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#basicExampleNav"
      aria-controls="basicExampleNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <span class="navbar-text white-text">
      Inicio
    </span>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="basicExampleNav">

      <!-- Links -->
      <ul class="navbar-nav ml-auto">

        <li class="nav-item active">
          <a class="nav-link" href="#">
            <i class="fas fa-home"></i> Inicio
            <span class="sr-only">(current)</span>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="eventos.html">
            <i class="far fa-calendar-alt"></i> Eventos

          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="agendar.html">
            <i class="fas fa-tools"></i> Agendamentos
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="noticia.html">
            <i class="far fa-newspaper"></i> Noticias
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="mensagens.html">
            <i class="far fa-comments"></i> Mensagens

          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="configuracoes.html">
            <i class="fas fa-cog"></i> Configurações

          </a>
        </li>
      </ul>
    </div>
  </nav>
  <!--/.Navbar-->

  <div class="my-4"></div>
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-6">
        <!--                   Eventos         -->
        <div class="container">
          <!--Section: Content-->
          <section  class="dark-grey-text">
            <!-- Section heading -->
            <h3 class="font-weight-bold  mb-4 pb-2">
              <i class="far fa-calendar-alt"></i><span class="nav-link" style="display:inline">Eventos</span><a
                class="nav-link" style="display:inline" href="eventos.html" data-mdb-toggle="tooltip"
                title="Agendar novo evento">+</a>
            </h3>

            <div class="row" id="containerEventos"></div>

          </section>
          <!--Section: Content-->
        </div>
      </div>


      <!--                    Agendamento de ferramentas          -->
      <div class="col-md-6">
        <div class="container">
          <!--Section: Content-->
          <section class="dark-grey-text">
            <!-- Section heading -->
            <h3 class="font-weight-bold mb-4 pb-2">
              <i class="fas fa-tools"></i><span class="nav-link" style="display:inline">Agendamento de
                ferramentas</span><a class="nav-link" style="display:inline" href="agendar.html"
                data-mdb-toggle="tooltip" title="Agendar utilização de ferramenta">+</a>
            </h3>

            <div class="row" id="containerAgendamento"></div>


          </section>
          <!--Section: Content-->
        </div>
      </div>
    </div>


    <!--                    NOTICIAS          -->
    <div class="my-4"></div>
    <div class="row">
      <div class="col">
        <div id='containerNoticias' class="container-fluid">
          <!--Section: Content-->
          <section class="dark-grey-text">
            <!-- Section heading -->
            <h3 class="font-weight-bold mb-4 pb-2">
              <i class="far fa-newspaper"></i><span class="nav-link" style="display:inline">Noticias</span><a
                class="nav-link" style="display:inline" href="noticia.html" data-mdb-toggle="tooltip"
                title="Publicar nova noticia">+</a>
            </h3>
          </section>
          <!--Section: Content-->
        </div>
      </div>
    </div>


    <!--                    Actividade          -->
    <div class="my-5"></div>
    <div class="row">
      <div class="col">
        <div class="container-fluid">
          <!--Section: Content-->
          <section id="containerActividade" class="dark-grey-text">
            <!-- Section heading -->
            <h3 class="font-weight-bold mb-4 pb-2">
              <i class="fas fa-rss-square"></i><span style="display:inline" class="nav-link">Actividade</span>
            </h3>
          </section>
          <!--Section: Content-->
        </div>
      </div>
    </div>
</body>

<script>

  function getElementoEvento(titulo, data, texto) {
    return ' <div class="col-xs-12 col-md-6 col-lg-4"> \
                  <div class="card border-primary mb-3"> \
                    <div class="card-header">'+ titulo + '</div> \
                    <div class="card-body text-primary"> \
                      <h5 class="card-title">'+ data + '</h5> \
                      <p class="card-text">'+ texto + '</p> \
                    </div> \
                  </div> \
                </div> \
              ';

  }

  function getElementoAgendamento(ferramenta, dataDe, dataAte) {
    return '<div class="col-xs-12 col-md-6 col-lg-4"> \
                  <div class="card border-success mb-3"> \
                    <div class="card-header">'+ ferramenta + '</div> \
                    <div class="card-body text-success"> \
                      <p class="card-text">'+ dataDe + '</p> \
                      <p class="card-text">'+ dataAte + '</p> \
                    </div> \
                  </div> \
                </div> ';

  }

  function getElementoNoticia(titulo, data, texto) {
    return '  <div class="row"> \
                    <div class="col"> \
                      <div class="card border-info mb-3"> \
                        <div class="card-header">'+ data + ' \
                        </div> \
                        <div class="card-body text-info"> \
                          <h5 class="card-title">'+ titulo + '</h5> \
                          <p class="card-text">'+ texto + '</p> \
                        </div> \
                      </div> \
                    </div> \
                  </div>'
  }


  function getElementoRSS(titulo, data, texto) {
    return '     <div class="row"> \
                    <div class="col"> \
                      <div class="card border-info mb-3"> \
                        <div class="card-header">'+ titulo + '</div> \
                        <div class="card-body text-info"> \
                          <h5 class="card-title">'+ data + '</h5> \
                          <p class="card-text"> '+ texto + ' \
                          </p> \
                        </div> \
                      </div> \
                    </div> \
                  </div> '
  }





  function popularDados() {

    var eventos = JSON.parse(localStorage.getItem('eventos'));
    var agendamentos = JSON.parse(localStorage.getItem('agendamentos'));
    var noticias = JSON.parse(localStorage.getItem('noticias'));
    var actividade = JSON.parse(localStorage.getItem('dados')).Actividade;

    if (eventos != null) {
      eventos.forEach(function (obj) {
        $('#containerEventos').append(getElementoEvento(obj.Titulo, obj.Data, obj.Texto));
      });
    }

    if (agendamentos != null) {
      agendamentos.forEach(function (obj) {
        $('#containerAgendamento').append(getElementoAgendamento(obj.Ferramenta, obj.DataDe, obj.DataAte));
      });
    }

    if (noticias != null) {
      noticias.forEach(function (obj) {
        $('#containerNoticias').append(getElementoNoticia(obj.Titulo, obj.Data, obj.Texto));
      });
    }

    if (actividade != null) {
      actividade.forEach(function (obj) {
        $('#containerActividade').append(getElementoNoticia(obj.Titulo, obj.Data, obj.Texto));
      });
    }
  }


  var dados = {  

    "Actividade": [
      {
        "Titulo": "Actividade 1",
        "Data": "01/01/2021 09:00",
        "Texto": "Texto de exemplo"
      },

      {
        "Titulo": "Actividade 2",
        "Data": "28/02/2021 08:30",
        "Texto": "Texto de exemplo"
      },

      {
        "Titulo": "Actividade 3",
        "Data": "03/03/2021 11:00",
        "Texto": "Texto de exemplo"
      },

      {
        "Titulo": "Actividade 4",
        "Data": "04/04/2021 15:00",
        "Texto": "Texto de exemplo"
      }
    ]
  }

  localStorage.setItem('dados', JSON.stringify(dados));

  popularDados();

</script>

</html>